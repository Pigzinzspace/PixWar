[gd_scene load_steps=29 format=2]

[ext_resource path="res://sprites/colored_tilemap_packed1.png" type="Texture" id=1]

[sub_resource type="AtlasTexture" id=1]
atlas = ExtResource( 1 )
region = Rect2( 48, 32, 8, 8 )

[sub_resource type="AtlasTexture" id=2]
atlas = ExtResource( 1 )
region = Rect2( 72, 48, 8, 8 )

[sub_resource type="Animation" id=3]
resource_name = "boby noise"
length = 4.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1, 3, 4 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 3.0, -3.0, 0.0 ]
}

[sub_resource type="Animation" id=4]
resource_name = "finish great slash"
length = 1.5
tracks/0/type = "value"
tracks/0/path = NodePath("r_hand:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.7, 1.5 ),
"transitions": PoolRealArray( 3.4822, 1, 1 ),
"update": 0,
"values": [ Vector2( 218.922, -585.065 ), Vector2( -106.211, -125.085 ), Vector2( 150, -200 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("r_hand:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.7, 1.5 ),
"transitions": PoolRealArray( 1.6245, 1, 1 ),
"update": 0,
"values": [ 80.0, -43.561, 0.0 ]
}

[sub_resource type="Animation" id=5]
resource_name = "idle"
tracks/0/type = "value"
tracks/0/path = NodePath("r_hand:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector2( 150, -200 ), Vector2( 150, -200 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("r_hand:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 0.0, 0.0 ]
}

[sub_resource type="Animation" id=6]
tracks/0/type = "value"
tracks/0/path = NodePath("r_hand:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3, 0.5, 1 ),
"transitions": PoolRealArray( 1, 0.101532, 1, 1 ),
"update": 0,
"values": [ Vector2( 150, -200 ), Vector2( 16.3367, -114.16 ), Vector2( -39.6071, -355.962 ), Vector2( 150, -200 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("r_hand:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.3, 0.5, 1 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 16.8916, 41.2638, 0.0 ]
}

[sub_resource type="Animation" id=7]
tracks/0/type = "value"
tracks/0/path = NodePath("r_hand:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3, 0.5, 0.6, 1 ),
"transitions": PoolRealArray( 1, 4.59479, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, -46.0889, 5.03662, 48.211, 0.0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("r_hand:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.3, 0.5, 0.6, 1 ),
"transitions": PoolRealArray( 1, 2.63901, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 150, -200 ), Vector2( -173.8, -157.163 ), Vector2( 9.52329, -364.308 ), Vector2( 239.454, -514.98 ), Vector2( 150, -200 ) ]
}

[sub_resource type="Animation" id=8]
tracks/0/type = "value"
tracks/0/path = NodePath("r_hand:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3, 0.5, 0.6, 1 ),
"transitions": PoolRealArray( 1, 2.82843, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 83.1477, -21.7419, -61.2444, 0.0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("r_hand:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.3, 0.5, 0.6, 1 ),
"transitions": PoolRealArray( 1, 2.21914, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 150, -200 ), Vector2( 297.078, -347.078 ), Vector2( -25.7544, -339.628 ), Vector2( -130.014, -171.716 ), Vector2( 150, -200 ) ]
}

[sub_resource type="Animation" id=9]
tracks/0/type = "value"
tracks/0/path = NodePath("r_hand:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3, 0.5, 1 ),
"transitions": PoolRealArray( 1, 6.49802, 1, 1 ),
"update": 0,
"values": [ Vector2( 150, -200 ), Vector2( 254.177, -366.31 ), Vector2( 42.5098, -435.605 ), Vector2( 150, -200 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("r_hand:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.3, 0.5, 1 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, -5.96729, -49.4559, 0.0 ]
}

[sub_resource type="Animation" id=10]
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath("l_hand:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector2( -150, -200 ), Vector2( -43.934, -229.698 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("l_hand:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 0.0, 8.11425 ]
}

[sub_resource type="Animation" id=11]
resource_name = "start great slash"
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath("r_hand:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector2( 150, -200 ), Vector2( 218.922, -585.065 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("r_hand:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 0.0, 80.0 ]
}

[sub_resource type="AnimationNodeAnimation" id=13]
animation = "r_bot_hit"

[sub_resource type="AnimationNodeAnimation" id=14]
animation = "r_side_hit"

[sub_resource type="AnimationNodeAnimation" id=15]
animation = "r_left_slash"

[sub_resource type="AnimationNodeAnimation" id=16]
animation = "r_right_slash"

[sub_resource type="AnimationNodeAnimation" id=19]
animation = "boby noise"

[sub_resource type="AnimationNodeAnimation" id=26]
animation = "shield_up"

[sub_resource type="AnimationNodeAnimation" id=17]
animation = "idle"

[sub_resource type="AnimationNodeBlend2" id=27]

[sub_resource type="AnimationNodeBlend2" id=20]

[sub_resource type="AnimationNodeAnimation" id=28]
animation = "finish great slash"

[sub_resource type="AnimationNodeAnimation" id=29]
animation = "start great slash"

[sub_resource type="AnimationNodeStateMachineTransition" id=30]
switch_mode = 1
auto_advance = true

[sub_resource type="AnimationNodeStateMachine" id=24]
"states/finish great slash/node" = SubResource( 28 )
"states/finish great slash/position" = Vector2( 433, 78 )
"states/start great slash/node" = SubResource( 29 )
"states/start great slash/position" = Vector2( 165, 78 )
transitions = [ "start great slash", "finish great slash", SubResource( 30 ) ]
start_node = "start great slash"
end_node = "finish great slash"

[sub_resource type="AnimationNodeTransition" id=18]
input_count = 6
input_0/name = "state 0"
input_0/auto_advance = true
input_1/name = "state 1"
input_1/auto_advance = true
input_2/name = "state 2"
input_2/auto_advance = true
input_3/name = "state 3"
input_3/auto_advance = true
input_4/name = "state 4"
input_4/auto_advance = true
input_5/name = "state 5"
input_5/auto_advance = true

[sub_resource type="AnimationNodeBlendTree" id=12]
graph_offset = Vector2( -293.607, -75.8298 )
nodes/Animation/node = SubResource( 17 )
nodes/Animation/position = Vector2( -360, -20 )
"nodes/Animation 2/node" = SubResource( 13 )
"nodes/Animation 2/position" = Vector2( -380, 100 )
"nodes/Animation 3/node" = SubResource( 14 )
"nodes/Animation 3/position" = Vector2( -380, 220 )
"nodes/Animation 4/node" = SubResource( 15 )
"nodes/Animation 4/position" = Vector2( -160, 100 )
"nodes/Animation 5/node" = SubResource( 16 )
"nodes/Animation 5/position" = Vector2( -200, 220 )
"nodes/Animation 6/node" = SubResource( 19 )
"nodes/Animation 6/position" = Vector2( 440, 240 )
"nodes/Animation 7/node" = SubResource( 26 )
"nodes/Animation 7/position" = Vector2( 220, 240 )
nodes/Blend2/node = SubResource( 20 )
nodes/Blend2/position = Vector2( 620, 80 )
"nodes/Blend2 2/node" = SubResource( 27 )
"nodes/Blend2 2/position" = Vector2( 420, -40 )
nodes/StateMachine/node = SubResource( 24 )
nodes/StateMachine/position = Vector2( 0, 220 )
nodes/Transition/node = SubResource( 18 )
nodes/Transition/position = Vector2( 200, -60 )
nodes/output/position = Vector2( 780, -20 )
node_connections = [ "output", 0, "Blend2", "Blend2", 0, "Blend2 2", "Blend2", 1, "Animation 6", "Transition", 0, "Animation", "Transition", 1, "Animation 2", "Transition", 2, "Animation 3", "Transition", 3, "Animation 4", "Transition", 4, "Animation 5", "Transition", 5, "StateMachine", "Blend2 2", 0, "Transition", "Blend2 2", 1, "Animation 7" ]

[sub_resource type="AnimationNodeStateMachinePlayback" id=25]

[node name="avatar_animation" type="Node2D"]
__meta__ = {
"_edit_vertical_guides_": [ 149.736 ]
}

[node name="target" type="Position2D" parent="."]
position = Vector2( -45.7046, -231.58 )

[node name="body" type="Position2D" parent="."]
position = Vector2( 0, 200 )
rotation = 0.019252

[node name="r_hand" type="Position2D" parent="body"]
position = Vector2( 93.5926, -323.638 )
rotation = -0.452963
__meta__ = {
"_edit_group_": true
}

[node name="TextureRect" type="TextureRect" parent="body/r_hand"]
margin_left = -80.0
margin_top = -80.0
margin_right = 80.0
margin_bottom = 80.0
texture = SubResource( 1 )
stretch_mode = 1
flip_h = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="l_hand" type="Position2D" parent="body"]
position = Vector2( -43.934, -229.698 )
rotation = 0.14162
__meta__ = {
"_edit_group_": true
}

[node name="TextureRect" type="TextureRect" parent="body/l_hand"]
margin_left = -80.0
margin_top = -80.0
margin_right = 80.0
margin_bottom = 80.0
texture = SubResource( 2 )
stretch_mode = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="AnimationPlayer" type="AnimationPlayer" parent="body"]
"anims/boby noise" = SubResource( 3 )
"anims/finish great slash" = SubResource( 4 )
anims/idle = SubResource( 5 )
anims/r_bot_hit = SubResource( 6 )
anims/r_left_slash = SubResource( 7 )
anims/r_right_slash = SubResource( 8 )
anims/r_side_hit = SubResource( 9 )
anims/shield_up = SubResource( 10 )
"anims/start great slash" = SubResource( 11 )

[node name="AnimationTree" type="AnimationTree" parent="body"]
tree_root = SubResource( 12 )
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/Blend2/blend_amount = 0.51
"parameters/Blend2 2/blend_amount" = 0.51
parameters/StateMachine/playback = SubResource( 25 )
parameters/Transition/current = 2
